<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>2021 ForesightCamp</title>
  <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <link rel="stylesheet" href="https://bootswatch.com/4/darkly/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/jquery-jgrowl/1.4.8/jquery.jgrowl.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-jgrowl/1.4.8/jquery.jgrowl.min.js"></script>
  <style type="text/css">
    .stage {
        text-align: center;
    }
    .cleared {
        background-color: #00bc8c;
    }
  </style>
  {% load static %}
  <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="/">Foresight Camp</a>
      {% if user.is_authenticated %}
      <a href="{% url 'logout' %}">Logout</a>
      {% endif %}
      <span id="time", style="color: #00bc8c; padding: 5px">
        <span id="hour">00</span>
        <span>:</span>
        <span id="minute">00</span>
        <span>:</span>
        <span id="second">00</span>
      </span>
      {% load static %}
      <script>
        function clock() {
          hour = document.getElementById("hour");
          h = new Date().getHours();
          if (h < 10)
            hour.innerHTML = '0' + h;
          else
            hour.innerHTML = h;
          minute = document.getElementById("minute");
          m = new Date().getMinutes();
          if (m < 10)
            minute.innerHTML = '0' + m;
          else
            minute.innerHTML = m;
          second = document.getElementById("second");
          s = new Date().getSeconds();
          if (s < 10)
            second.innerHTML = '0' + s;
          else
            second.innerHTML = s;
        }
        setInterval(clock, 0.1);
      </script>
    </div>
  </div>
</nav>
{% block content %}
{% endblock %}

{% if user.is_authenticated%}
<script>
  const socket = new WebSocket(
    'ws://'
    + window.location.host
    + '/ws/'
  );
  
  socket.onmessage = function(e) {
    data = JSON.parse(e.data);
    $.jGrowl(data.message);
  };
</script>
{% endif %}
</body>
</html>
